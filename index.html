<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>For Yasmeen ğŸ’• Ù„Ù€ ÙŠØ§Ø³Ù…ÙŠÙ†</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Aref+Ruqaa+Ink:wght@400;700&family=Cairo:wght@300;400;600;700&family=Lemonada:wght@300;400;600;700&family=Dancing+Script:wght@400;700&family=Quicksand:wght@300;400;600;700&display=swap');

  * { margin: 0; padding: 0; box-sizing: border-box; }

  body {
    min-height: 100vh;
    background: linear-gradient(135deg, #1a0011, #2d0a1e, #3d1133, #2d0a1e, #1a0011);
    background-size: 400% 400%;
    animation: gradientShift 10s ease infinite;
    overflow: hidden;
    display: flex;
    align-items: center;
    justify-content: center;
    font-family: 'Cairo', sans-serif;
    color: #fff;
    cursor: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24'><text y='20' font-size='20'>%E2%9D%A4%EF%B8%8F</text></svg>") 12 12, auto;
  }
  body.en { font-family: 'Quicksand', sans-serif; direction: ltr; }

  @keyframes gradientShift {
    0%, 100% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
  }

  /* Language toggle */
  .lang-toggle {
    position: fixed;
    top: 20px;
    left: 20px;
    z-index: 200;
    background: rgba(255, 255, 255, 0.06);
    backdrop-filter: blur(15px);
    border: 1px solid rgba(255, 150, 180, 0.2);
    border-radius: 50px;
    padding: 8px 20px;
    color: #ff8aaf;
    font-size: 14px;
    font-family: 'Cairo', sans-serif;
    cursor: pointer;
    transition: all 0.3s ease;
    white-space: nowrap;
  }
  .lang-toggle:hover {
    background: rgba(255, 100, 150, 0.15);
    border-color: rgba(255, 150, 180, 0.4);
    transform: scale(1.05);
  }

  /* Floating elements */
  .hearts-bg { position: fixed; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: 0; }
  .floating-heart {
    position: absolute;
    opacity: 0;
    animation: floatUp linear infinite;
    filter: drop-shadow(0 0 8px rgba(255, 80, 130, 0.4));
  }
  @keyframes floatUp {
    0% { transform: translateY(100vh) rotate(0deg) scale(0.4); opacity: 0; }
    10% { opacity: 0.7; }
    90% { opacity: 0.4; }
    100% { transform: translateY(-10vh) rotate(360deg) scale(1.3); opacity: 0; }
  }

  /* Stars / sparkles */
  .sparkle {
    position: fixed;
    width: 3px; height: 3px;
    background: #fff;
    border-radius: 50%;
    animation: twinkle 2.5s ease-in-out infinite alternate;
  }
  @keyframes twinkle {
    0% { opacity: 0.1; transform: scale(1); }
    100% { opacity: 1; transform: scale(1.8); }
  }

  /* Rose petals */
  .petal {
    position: fixed;
    pointer-events: none;
    z-index: 1;
    font-size: 16px;
    opacity: 0;
    animation: petalFall linear infinite;
  }
  @keyframes petalFall {
    0% { transform: translateY(-5vh) translateX(0) rotate(0deg); opacity: 0; }
    10% { opacity: 0.6; }
    100% { transform: translateY(105vh) translateX(80px) rotate(400deg); opacity: 0; }
  }

  /* Shooting stars */
  .shooting-star {
    position: fixed;
    width: 3px; height: 3px;
    background: #fff;
    border-radius: 50%;
    z-index: 1;
    pointer-events: none;
    animation: shoot 1.5s linear forwards;
    box-shadow: 0 0 6px 2px rgba(255, 255, 255, 0.6);
  }
  .shooting-star::after {
    content: '';
    position: absolute;
    top: 0; right: 0;
    width: 60px; height: 1px;
    background: linear-gradient(to left, rgba(255,255,255,0.6), transparent);
  }
  @keyframes shoot {
    from { transform: translate(0, 0); opacity: 1; }
    to { transform: translate(-300px, 300px); opacity: 0; }
  }

  /* Screens */
  .screen {
    position: absolute;
    top: 0; left: 0; width: 100%; height: 100%;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    z-index: 10;
    opacity: 0;
    transition: opacity 1s ease;
    pointer-events: none;
    padding: 20px;
  }
  .screen.active { opacity: 1; pointer-events: all; }

  /* Screen 1: Rose/Envelope */
  .opener-wrapper { cursor: pointer; animation: gentleBounce 2.5s ease-in-out infinite; text-align: center; }
  @keyframes gentleBounce {
    0%, 100% { transform: translateY(0) rotate(0deg); }
    50% { transform: translateY(-15px) rotate(2deg); }
  }
  .opener-emoji {
    font-size: 110px;
    filter: drop-shadow(0 0 35px rgba(255, 50, 100, 0.7));
    transition: all 0.4s ease;
    display: block;
  }
  .opener-wrapper:hover .opener-emoji {
    transform: scale(1.2) rotate(-10deg);
    filter: drop-shadow(0 0 60px rgba(255, 50, 100, 1));
  }
  .opener-text {
    font-family: 'Lemonada', cursive;
    font-size: 24px;
    margin-top: 20px;
    color: #ff8aaf;
    text-shadow: 0 0 25px rgba(255, 138, 175, 0.4);
    animation: pulse 2s ease-in-out infinite;
  }
  body.en .opener-text { font-family: 'Dancing Script', cursive; font-size: 26px; }
  .opener-hint {
    font-size: 14px;
    margin-top: 10px;
    opacity: 0.4;
  }
  @keyframes pulse {
    0%, 100% { opacity: 0.6; }
    50% { opacity: 1; }
  }

  /* Screen 2: Letter */
  .letter-box {
    background: rgba(255, 255, 255, 0.04);
    backdrop-filter: blur(25px);
    border: 1px solid rgba(255, 150, 180, 0.12);
    border-radius: 28px;
    padding: 45px 38px;
    max-width: 540px;
    width: 92%;
    text-align: center;
    box-shadow: 0 25px 70px rgba(0,0,0,0.35), inset 0 0 100px rgba(255, 80, 130, 0.02);
    animation: slideIn 0.8s ease;
  }
  @keyframes slideIn {
    from { opacity: 0; transform: translateY(50px) scale(0.95); }
    to { opacity: 1; transform: translateY(0) scale(1); }
  }
  .letter-name {
    font-family: 'Aref Ruqaa Ink', serif;
    font-size: 56px;
    background: linear-gradient(135deg, #ff5c8a, #ffb6c1, #ff3d6e, #ffcdd9);
    background-size: 300% 300%;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    animation: shimmer 3s ease infinite;
    margin-bottom: 5px;
  }
  body.en .letter-name { font-family: 'Dancing Script', cursive; font-size: 48px; }
  @keyframes shimmer {
    0%, 100% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
  }
  .letter-sub {
    font-family: 'Lemonada', cursive;
    font-size: 15px;
    color: rgba(255, 182, 193, 0.6);
    margin-bottom: 18px;
  }
  .letter-body {
    font-size: 18px;
    line-height: 2.1;
    color: rgba(255, 255, 255, 0.88);
    margin: 15px 0 30px;
    font-weight: 300;
    text-align: right;
    direction: rtl;
    min-height: 180px;
  }
  body.en .letter-body { text-align: left; direction: ltr; font-size: 17px; line-height: 1.9; }
  .letter-body .highlight { color: #ff8aaf; font-weight: 700; }
  .letter-body .bold-love { color: #ff5c8a; font-weight: 700; font-size: 20px; }
  body.en .letter-body .highlight { color: #ffb6c1; font-weight: 600; }

  .continue-btn {
    background: linear-gradient(135deg, #ff3366, #ff6b95);
    border: none;
    padding: 15px 45px;
    border-radius: 50px;
    color: #fff;
    font-size: 18px;
    font-family: 'Cairo', sans-serif;
    font-weight: 700;
    cursor: pointer;
    transition: all 0.3s ease;
    box-shadow: 0 10px 35px rgba(255, 51, 102, 0.4);
    letter-spacing: 1px;
  }
  body.en .continue-btn { font-family: 'Quicksand', sans-serif; font-size: 17px; }
  .continue-btn:hover {
    transform: translateY(-3px) scale(1.04);
    box-shadow: 0 14px 45px rgba(255, 51, 102, 0.6);
  }

  /* Screen 3: Question */
  .question-box { text-align: center; animation: slideIn 0.8s ease; }
  .question-emoji {
    font-size: 90px;
    animation: heartbeat 1s ease-in-out infinite;
    filter: drop-shadow(0 0 30px rgba(255, 80, 130, 0.7));
    margin-bottom: 15px;
  }
  @keyframes heartbeat {
    0%, 100% { transform: scale(1); }
    14% { transform: scale(1.18); }
    28% { transform: scale(1); }
    42% { transform: scale(1.12); }
  }
  .question-text {
    font-family: 'Lemonada', cursive;
    font-size: 32px;
    margin-bottom: 35px;
    background: linear-gradient(135deg, #fff, #ffb6c1);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    line-height: 1.6;
  }
  body.en .question-text { font-family: 'Dancing Script', cursive; font-size: 38px; }

  .buttons-row {
    display: flex;
    gap: 20px;
    align-items: center;
    justify-content: center;
    min-height: 70px;
    position: relative;
    direction: ltr;
  }
  .btn-yes {
    background: linear-gradient(135deg, #ff3366, #ff6b95);
    border: none;
    padding: 15px 32px;
    border-radius: 50px;
    color: #fff;
    font-size: 20px;
    font-family: 'Cairo', sans-serif;
    font-weight: 700;
    cursor: pointer;
    transition: all 0.3s ease;
    box-shadow: 0 10px 35px rgba(255, 51, 102, 0.5);
    z-index: 5;
    white-space: nowrap;
    flex-shrink: 0;
  }
  body.en .btn-yes { font-family: 'Quicksand', sans-serif; }
  .btn-yes:hover {
    transform: scale(1.08);
    box-shadow: 0 14px 50px rgba(255, 51, 102, 0.75);
  }
  .btn-no {
    background: rgba(255, 255, 255, 0.1);
    border: 2px solid rgba(255, 255, 255, 0.25);
    padding: 15px 40px;
    border-radius: 50px;
    color: rgba(255, 255, 255, 0.7);
    font-size: 20px;
    font-family: 'Cairo', sans-serif;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.15s ease;
    z-index: 4;
    white-space: nowrap;
    flex-shrink: 0;
  }
  body.en .btn-no { font-family: 'Quicksand', sans-serif; }
  .btn-no.shrinking {
    transform: scale(0.6) !important;
    opacity: 0.3 !important;
  }
  .attempts-msg {
    margin-top: 25px;
    font-size: 16px;
    min-height: 25px;
    font-family: 'Cairo', sans-serif;
    color: #ff8aaf;
    transition: all 0.3s ease;
  }

  /* Screen 4: Celebration */
  .celebration { text-align: center; z-index: 100; animation: slideIn 0.8s ease; }
  .celeb-hearts {
    font-size: 90px;
    animation: celebSpin 2s ease-in-out infinite;
    filter: drop-shadow(0 0 40px rgba(255, 80, 130, 0.8));
  }
  @keyframes celebSpin {
    0%, 100% { transform: scale(1) rotate(-3deg); }
    50% { transform: scale(1.1) rotate(3deg); }
  }
  .celeb-title {
    font-family: 'Aref Ruqaa Ink', serif;
    font-size: 50px;
    margin: 20px 0 5px;
    background: linear-gradient(135deg, #ff5c8a, #ffb6c1, #fff, #ffb6c1, #ff5c8a);
    background-size: 400% 400%;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    animation: shimmer 3s ease infinite;
  }
  body.en .celeb-title { font-family: 'Dancing Script', cursive; font-size: 52px; }
  .celeb-subtitle {
    font-family: 'Lemonada', cursive;
    font-size: 18px;
    color: #ff8aaf;
    margin-bottom: 15px;
  }
  .celeb-msg {
    font-size: 19px;
    color: rgba(255, 255, 255, 0.88);
    max-width: 480px;
    line-height: 2;
    margin: 10px auto 0;
    font-weight: 300;
    text-align: center;
  }
  .celeb-msg .name {
    font-family: 'Aref Ruqaa Ink', serif;
    font-size: 26px;
    color: #ff8aaf;
  }
  body.en .celeb-msg .name { font-family: 'Dancing Script', cursive; font-size: 24px; color: #ffb6c1; }
  .celeb-footer {
    margin-top: 35px;
    font-family: 'Aref Ruqaa Ink', serif;
    font-size: 30px;
    color: #ff5c8a;
    animation: pulse 2s ease-in-out infinite;
  }
  body.en .celeb-footer { font-family: 'Dancing Script', cursive; font-size: 28px; color: #ff6b95; }
  .celeb-tiny {
    margin-top: 12px;
    font-size: 14px;
    opacity: 0.4;
  }

  /* Confetti */
  .confetti-piece {
    position: fixed;
    z-index: 90;
    pointer-events: none;
    animation: confettiFall linear forwards;
  }
  @keyframes confettiFall {
    0% { opacity: 1; transform: translateY(-10vh) rotate(0deg); }
    100% { opacity: 0; transform: translateY(110vh) rotate(720deg); }
  }

  /* Heart burst */
  .burst-heart {
    position: fixed;
    pointer-events: none;
    z-index: 95;
    animation: burst 1.8s ease-out forwards;
  }
  @keyframes burst {
    0% { opacity: 1; transform: translate(0, 0) scale(0.3); }
    100% { opacity: 0; transform: translate(var(--tx), var(--ty)) scale(1.6); }
  }

  /* Responsive */
  @media (max-width: 600px) {
    .letter-name { font-size: 42px; }
    body.en .letter-name { font-size: 36px; }
    .letter-body { font-size: 16px; }
    body.en .letter-body { font-size: 15px; }
    .letter-box { padding: 30px 22px; }
    .question-text { font-size: 24px; }
    body.en .question-text { font-size: 28px; }
    .celeb-title { font-size: 36px; }
    body.en .celeb-title { font-size: 38px; }
    .celeb-msg { font-size: 16px; }
    .opener-emoji { font-size: 80px; }
    .opener-text { font-size: 19px; }
    .btn-yes, .btn-no { padding: 12px 24px; font-size: 16px; }
    .question-emoji { font-size: 70px; }
    .lang-toggle { font-size: 12px; padding: 6px 14px; }
  }
</style>
</head>
<body>

<!-- Language Toggle -->
<button class="lang-toggle" id="langToggle" onclick="switchLang()">Want it in English? ğŸ¤</button>

<div class="hearts-bg" id="heartsBg"></div>

<!-- Screen 1: Opener -->
<div class="screen active" id="screen1">
  <div class="opener-wrapper" onclick="openLetter()">
    <span class="opener-emoji" id="openerEmoji">ğŸŒ¹</span>
    <div class="opener-text" id="openerText">Ø¹Ù†Ø¯Ùƒ Ø±Ø³Ø§Ù„Ø© Ù…Ù† Ø­Ø¯ Ø¨ÙŠØ­Ø¨Ùƒ...</div>
    <div class="opener-hint" id="openerHint">Ø§Ø¶ØºØ·ÙŠ Ù‡Ù†Ø§ ğŸ’•</div>
  </div>
</div>

<!-- Screen 2: Letter -->
<div class="screen" id="screen2">
  <div class="letter-box">
    <div class="letter-name" id="letterName">ÙŠØ§Ø³Ù…ÙŠÙ†</div>
    <div class="letter-sub" id="letterSub">~ ÙŠØ§ Ø£Ø­Ù„Ù‰ Ø§Ø³Ù… ÙÙŠ Ø§Ù„Ø¯Ù†ÙŠØ§ ~</div>
    <div class="letter-body" id="letterContent"></div>
    <button class="continue-btn" id="continueBtn" onclick="showQuestion()">ÙƒÙ…Ù„ÙŠ Ù‚Ø±Ø§ÙŠØ©... ğŸ’Œ</button>
  </div>
</div>

<!-- Screen 3: Question -->
<div class="screen" id="screen3">
  <div class="question-box">
    <div class="question-emoji">ğŸ’—</div>
    <div class="question-text" id="questionText">
      Ù‡ØªØ³Ø§Ù…Ø­ÙŠÙ†ÙŠ Ø¥Ù†ÙŠ ÙÙˆÙ‘Øª<br>Ø§Ù„ÙØ§Ù„Ù†ØªØ§ÙŠÙ† Ù…Ù† ØºÙŠØ±ÙƒØŸ
    </div>
    <div class="buttons-row" id="buttonsRow">
      <button class="btn-yes" id="btnYes" onclick="sayYes()">Ø·Ø¨Ø¹Ø§Ù‹ Ø³Ø§Ù…Ø­ØªÙƒ ğŸ’•</button>
      <button class="btn-no" id="btnNo" onmouseover="runAway()" ontouchstart="runAway()">Ù„Ø£ ğŸ˜¤</button>
    </div>
    <div class="attempts-msg" id="noAttempts"></div>
  </div>
</div>

<!-- Screen 4: Celebration -->
<div class="screen" id="screen4">
  <div class="celebration">
    <div class="celeb-hearts">ğŸ’–</div>
    <div class="celeb-title" id="celebTitle">ÙƒÙ†Øª Ø¹Ø§Ø±Ù Ø¥Ù†Ùƒ Ø­ØªÙ‚ÙˆÙ„ÙŠ Ø£ÙŠÙˆÙ‡!</div>
    <div class="celeb-subtitle" id="celebSub">Ø¨Ø³ Ø¨Ø±Ø¶Ùˆ Ù‚Ù„Ø¨ÙŠ ÙƒØ§Ù† Ø¨ÙŠØ¯Ù‚ ğŸ˜…ğŸ’“</div>
    <div class="celeb-msg" id="celebMsg">
      ÙŠØ§ <span class="name">ÙŠØ§Ø³Ù…ÙŠÙ†</span>ØŒ
      <br><br>
      Ø§Ù†ØªÙŠ Ù…Ø´ Ù…Ø­ØªØ§Ø¬Ø© ÙŠÙˆÙ… ÙÙŠ Ø§Ù„Ø³Ù†Ø© Ø¹Ø´Ø§Ù† Ø£Ù‚ÙˆÙ„Ùƒ Ø¥Ù†Ùƒ Ø£Ø­Ù„Ù‰ Ø­Ø§Ø¬Ø© ÙÙŠ Ø­ÙŠØ§ØªÙŠ.
      <br><br>
      ÙƒÙ„ ÙŠÙˆÙ… Ø¬Ù†Ø¨Ùƒ Ù‡Ùˆ ÙØ§Ù„Ù†ØªØ§ÙŠÙ†.
      <br>
      ÙƒÙ„ Ø¶Ø­ÙƒØ© Ù…Ù†Ùƒ Ù‡ÙŠ Ù‡Ø¯ÙŠØ©.
      <br>
      ÙˆÙƒÙ„ Ù„Ø­Ø¸Ø© Ù…Ø¹Ø§ÙƒÙŠ Ø¨ØªØ³Ø§ÙˆÙŠ Ø§Ù„Ø¯Ù†ÙŠØ§ ÙƒÙ„Ù‡Ø§.
      <br><br>
      Ø£Ù†Ø§ Ù…Ø´ Ø¨Ø³ Ø¨Ø­Ø¨Ùƒ... Ø£Ù†Ø§ Ù…Ø´ Ø¹Ø§Ø±Ù Ø£Ø¹ÙŠØ´ Ù…Ù† ØºÙŠØ±Ùƒ. ğŸ¤
    </div>
    <div class="celeb-footer" id="celebFooter">Ø¨Ø­Ø¨Ùƒ ÙŠØ§ ÙŠØ§Ø³Ù…ÙŠÙ† â¤ï¸</div>
    <div class="celeb-tiny" id="celebTiny">~ Ù„Ù„Ø£Ø¨Ø¯ ÙˆØ¨Ø¹Ø¯ Ø§Ù„Ø£Ø¨Ø¯ ~</div>
  </div>
</div>

<script>
  const floaters = ['ğŸ’•', 'ğŸ’—', 'ğŸ’–', 'âœ¨', 'ğŸ’', 'ğŸŒ¹', 'â™¥ï¸', 'ğŸŒ¸', 'ğŸ’«', 'ğŸ©·'];
  const bg = document.getElementById('heartsBg');

  for (let i = 0; i < 25; i++) {
    const h = document.createElement('div');
    h.className = 'floating-heart';
    h.textContent = floaters[Math.floor(Math.random() * floaters.length)];
    h.style.left = Math.random() * 100 + '%';
    h.style.fontSize = (14 + Math.random() * 20) + 'px';
    h.style.animationDuration = (9 + Math.random() * 14) + 's';
    h.style.animationDelay = (Math.random() * 12) + 's';
    bg.appendChild(h);
  }

  for (let i = 0; i < 50; i++) {
    const s = document.createElement('div');
    s.className = 'sparkle';
    s.style.left = Math.random() * 100 + '%';
    s.style.top = Math.random() * 100 + '%';
    s.style.animationDelay = (Math.random() * 3) + 's';
    s.style.animationDuration = (1.5 + Math.random() * 2.5) + 's';
    document.body.appendChild(s);
  }

  for (let i = 0; i < 10; i++) {
    const p = document.createElement('div');
    p.className = 'petal';
    p.textContent = 'ğŸŒ¸';
    p.style.left = Math.random() * 100 + '%';
    p.style.fontSize = (12 + Math.random() * 10) + 'px';
    p.style.animationDuration = (10 + Math.random() * 10) + 's';
    p.style.animationDelay = (Math.random() * 15) + 's';
    document.body.appendChild(p);
  }

  function spawnShootingStar() {
    const s = document.createElement('div');
    s.className = 'shooting-star';
    s.style.left = (20 + Math.random() * 60) + '%';
    s.style.top = (5 + Math.random() * 30) + '%';
    document.body.appendChild(s);
    setTimeout(() => s.remove(), 1500);
  }
  setInterval(spawnShootingStar, 5000);
  setTimeout(spawnShootingStar, 2500);

  // ============ LANGUAGE SYSTEM ============
  let lang = 'ar';

  const content = {
    ar: {
      toggleBtn: 'Ø¹Ø§ÙŠØ²Ø§Ù‡Ø§ Ø¨Ø§Ù„Ø§Ù†Ø¬Ù„ÙŠØ²ÙŠ ØŸ ØªØ¯Ù„Ù„ÙŠ ğŸ¤',
      openerEmoji: 'ğŸŒ¹',
      openerText: 'Ø¹Ù†Ø¯Ùƒ Ø±Ø³Ø§Ù„Ø© Ù…Ù† Ø­Ø¯ Ø¨ÙŠØ­Ø¨Ùƒ Ø§ÙƒØªØ± Ø­Ø§Ø¬Ø© ÙÙŠ Ø§Ù„Ø¯Ù†ÙŠØ§',
      openerHint: 'Ø§ØªÙƒÙŠ Ù‡Ù†Ø§ ÙƒØ¯Ù‡ ğŸ’•',
      letterName: 'ÙŠØ§Ø³Ù…ÙŠÙ†',
      letterSub: '~ Ø­ÙŠÙŠØ¨Ø© Ø´Ø§Ø¯ÙŠ ~',
      letterBody: `Ø£Ù†Ø§ Ø¹Ø§Ø±Ù Ø¥Ù†ÙŠ Ù…ÙŠÙ†ÙØ¹Ø´ Ø£ÙÙˆÙ‘Øª Ø§Ù„ÙØ§Ù„Ù†ØªØ§ÙŠÙ† Ù…Ø¹Ø§ÙƒÙŠ.. ÙˆØ¹Ø§Ø±Ù Ø¥Ù†Ùƒ <span class="highlight">ØªØ³ØªØ§Ù‡Ù„ÙŠ ÙƒÙ„ Ø­Ø§Ø¬Ø© Ø­Ù„ÙˆØ©</span>.\n\nØ¨Ø³ Ø§Ù„Ø­Ù‚ÙŠÙ‚Ø©ØŸ Ø£Ù†Ø§ Ù…Ø´ Ù…Ø­ØªØ§Ø¬ Ù¡Ù¤ ÙØ¨Ø±Ø§ÙŠØ± Ø¹Ø´Ø§Ù† Ø£Ù‚ÙˆÙ„Ùƒ Ø¥Ù†Ùƒ <span class="bold-love"> Ø£Ø¬Ù…Ù„ Ø­Ø§Ø¬Ø© Ø­ØµÙ„ØªÙ„ÙŠ ÙØ­ÙŠØ§ØªÙŠ</span>.\n\nØ§Ù†ØªÙŠ Ø­Ø¨ÙŠØ¨Ø© Ø´Ø§Ø¯ÙŠ Ø§Ù„Ù„ÙŠ Ø¨ÙÙƒØ± ÙÙŠÙ‡Ø§ Ø£ÙˆÙ„ Ù…Ø§ Ø¨ØµØ­Ù‰ ÙˆØ§Ù„Ù„Ù‡ØŒ ÙˆØ¢Ø®Ø± Ø­Ø§Ø¬Ø© Ø¨ØªÙŠØ¬ÙŠ Ø¹Ù„Ù‰ Ø¨Ø§Ù„ÙŠ Ù‚Ø¨Ù„ Ù…Ø§ Ø£Ù†Ø§Ù…. ğŸ’­\n\nÙÙ€ Ø¹Ù…Ù„ØªÙ„Ùƒ Ø§Ù„Ø­Ø§Ø¬Ø© Ø§Ù„ØµØºÙŠØ±Ø© Ø¯ÙŠ... Ø¹Ø´Ø§Ù† Ø¹Ø§ÙŠØ²Ùƒ ØªØ¹Ø±ÙÙŠ Ø­Ø§Ø¬Ø© Ù…Ù‡Ù…Ø©. ğŸŒ¹`,
      continueBtn: 'ÙƒÙ…Ù„ÙŠ Ù‚Ø±Ø§ÙŠØ©... ğŸ’Œ',
      questionText: 'Ù‡ØªØ³Ø§Ù…Ø­ÙŠÙ†ÙŠ Ø¥Ù†ÙŠ ÙÙˆÙ‘Øª<br>Ø§Ù„ÙØ§Ù„Ù†ØªØ§ÙŠÙ† Ù…Ù† ØºÙŠØ±ÙƒØŸ',
      btnYes: 'Ø·Ø¨Ø¹Ø§Ù‹ Ø³Ø§Ù…Ø­ØªÙƒ ğŸ¥ºâ¤ï¸',
      btnNo: 'Ù„Ø£ ğŸ˜¤',
      funnyMsgs: [
        "Ù‡Ø§Ù‡Ø§ Ù†Ø¬ÙˆÙ… Ø§Ù„Ø³Ù…Ø§ Ø§Ù‚Ø±Ø¨Ù„Ùƒ ğŸ˜",
        "Ù…ØªØ­Ø§ÙˆÙ„ÙŠÙŠÙŠÙŠØ´ Ù‡ÙŠØ¬Ø±ÙŠ Ù…Ù†Ùƒ ğŸƒ",
        "Ù„Ø§ Ù…Ø§Ù‡Ùˆ Ù‡ÙŠØ¬Ø±ÙŠ Ù„Ø­Ø¯ Ù…Ø§ØªØ±Ø¶ÙŠ ÙˆØªÙ‚ÙˆÙ„ÙŠ Ø§ÙŠÙˆØ© ğŸ˜",
        "ÙŠÙ…ÙƒÙ† Ø´Ø§Ø·Ø±Ø© ÙÙƒÙ„ Ø­Ø§Ø¬Ø© Ø¨ØªØªØ­Ø¯ÙŠÙ†ÙŠ ÙÙŠÙ‡Ø§ Ø¨Ø³ Ù…Ø´ Ø§Ù„Ù…Ø±Ø© Ø¯ÙŠÙ‡ Ù„Ø§Ø§Ø§ ğŸ˜‚",
        "ÙŠØ¹Ù†ÙŠ Ù‡ØªÙ‚ÙˆÙ„ÙŠ Ù„Ø£ Ù„Ø´Ø§Ø¯ÙŠ Ø­Ø¨ÙŠØ¨ÙƒØŸ Ø¨Ø¬Ø¯ØŸ ğŸ¥º",
        "Ø­ØªÙ‰ Ø§Ù„Ø²Ø±Ø§Ø± Ø¹Ø§Ø±Ù Ø¥Ù†Ùƒ Ø¨ØªØ­Ø¨ÙŠÙ†ÙŠ.. Ø®Ù„Ø¨ÙˆÙˆØµ ğŸ¥°",
        "Ø§ØªÙƒÙŠ Ø¹Ù„ÙŠ Ø£ÙŠÙˆÙ‡ ÙˆØ­ÙŠØ§Ø§Ø§ØªÙŠÙŠÙŠ (ÙŠÙ…ÙƒÙ† ÙÙŠ Ø³ÙˆØ´ÙŠ Ø¬ÙˆÙ‡ ğŸ£ğŸ¤·ğŸ¼) ğŸ˜˜",
        "ÙŠÙ†ÙØ¹ ÙƒØ¯Ù‡ Ø²Ù‡Ù‚Ù†Ù‹Ø§ Ø§Ù„Ø²Ø±Ø§Ø± ÙˆÙ…Ø´ÙŠÙ†Ø§Ù‡ØŸ.. Ù‚ÙˆÙ„ÙŠ Ø£ÙŠÙˆÙ‡ Ù„Ø´Ø§Ø¯ÙŠ Ø­Ø¨ÙŠØ¨Ùƒ Ø¨Ù‚Ù‰ ğŸ¥ºğŸ˜‚ğŸ’•",
      ],
      noGone: "Ø§Ù„Ø²Ø±Ø§Ø± Ù…Ø´ÙŠ Ø®Ù„Ø§Øµ ğŸ’ğŸ¼ Ù‚ÙˆÙ„ÙŠ Ø£ÙŠÙˆÙˆÙˆÙˆÙ‡ â¤ï¸ğŸ˜­",
      celebTitle: 'ÙƒÙ†Øª Ø¹Ø§Ø±Ù Ø¥Ù†Ùƒ Ø­ØªÙ‚ÙˆÙ„ÙŠ Ø£ÙŠÙˆÙ‡ ğŸ˜­â¤ï¸â¤ï¸â¤ï¸ (Ø¨Ù…Ø²Ø§Ø¬Ùƒ Ø§ÙƒÙŠØ¯)!',
      celebSub: ' Ù…Ù…ÙƒÙ† Ø§Ù‚Ø¹Ø¯ Ù„Ù„ØµØ¨Ø­ Ø¹Ø§Ø¯ÙŠ Ù„Ø­Ø¯ Ù…Ø§ğŸ¥²â¤ï¸',
      celebMsg: `ÙŠØ§ <span class="name">Ø­Ø¨ÙŠØ¨Ø© Ø´Ø§Ø¯ÙŠ ÙŠØ§Ø³Ù…ÙŠÙ†</span>ØŒ
      <br><br>
      Ø­Ø¨ÙŠØ¨ØªÙŠ Ù…Ø´ Ù…Ø­ØªØ§Ø¬Ø© ÙŠÙˆÙ… ÙÙŠ Ø§Ù„Ø³Ù†Ø© Ø¹Ø´Ø§Ù† Ø£Ù‚ÙˆÙ„Ù‡Ø§ Ø¥Ù†Ù‡Ø§ Ø£Ø­Ù„Ù‰ Ø­Ø§Ø¬Ø© Ø­ØµÙ„ØªÙ„ÙŠ ÙÙŠ Ø­ÙŠØ§ØªÙŠ.
      <br><br>
     Ø§Ù†ØªÙŠ Ø­Ø¨ÙŠØ¨ØªÙŠ ÙˆÙ†ÙˆØ± Ø¹ÙŠÙ†ÙŠ Ùˆ ÙƒÙ„ ÙŠÙˆÙ… Ù…Ø¹Ø§ÙƒÙŠ Ù‡Ùˆ Valentine.
      <br>
     Ø²Ø¹Ù„Ùƒ ØºØ§Ù„ÙŠ Ø¹Ù„ÙŠØ§ ÙˆØ¹Ù…Ø±Ù‡ Ù…Ø§ÙŠÙ‡ÙˆÙ† Ø¹Ù„ÙŠ Ù‚Ù„Ø¨ÙŠ ÙˆØ§Ù„Ù„Ù‡.. Ø­Ù‚Ùƒ Ø¹Ù„ÙŠØ§ Ù…Ù† Ø§ÙŠ Ø­Ø§Ø¬Ø© ØªØ²Ø¹Ù„Ùƒ.
      <br>
      Ø®Ù„ÙŠÙƒÙŠ Ø¹Ø§Ø±ÙØ© Ø¯Ø§ÙŠÙ…Ø§Ù‹ Ø§Ù† Ø´Ø§Ø¯ÙŠ Ø­Ø¨ÙŠØ¨Ùƒ Ø¨ÙŠØ­Ø¨Ùƒ Ù…Ù† Ù‚Ù„Ø¨Ù‡ ÙˆÙ‡ÙŠØ¶Ù„ Ù‡Ù†Ø§ Ø¬Ù†Ø¨Ùƒ Ø·ÙˆÙ„ Ø§Ù„Ø¹Ù…Ø± Ø§Ù† Ø´Ø§Ø¡ Ø§Ù„Ù„Ù‡.
      <br><br>
     ÙˆØ£ØªØ·Ù…Ù†ÙŠ Ø§Ù†Ø§ Ù…Ø´ Ù‡Ø²Ù‹Ø¹Ù„Ùƒ Ø§Ø¨Ø¯Ø§Ù‹ ğŸ«‚`,
      celebFooter: 'Ø¨Ø­Ø¨Ùƒ ÙŠØ§ Ø¹ÙŠÙˆÙ† Ø´Ø§Ø¯ÙŠ Ø­Ø¨ÙŠØ¨Ùƒ â¤ï¸',
      celebTiny: '~ Ù…Ù† Ø­Ø¨ÙŠØ¨ ÙŠØ§Ø³Ù…ÙŠÙ† ~',
    },
    en: {
      toggleBtn: 'Ø¹Ø§ÙŠØ²Ø§Ù‡Ø§ Ø¨Ø§Ù„Ø¹Ø±Ø¨ÙŠØŸ Ø¨Ø³ ÙƒØ¯Ù‡ØŸ Ø¹ÙŠÙˆÙ†ÙŠ Ù„Ø§Ù„Ùƒ ğŸ’•',
      openerEmoji: 'ğŸ’Œ',
      openerText: 'You have a message from someone who loves you more than anything',
      openerHint: 'tap here ğŸ’•',
      letterName: 'Yasmeen',
      letterSub: '~ Shady\'s hbibt ~',
      letterBody: `I know I shouldn't have missed Valentine's with you... and I know you <span class="highlight">deserve everything beautiful</span>.\n\nBut the truth? I don't need February 14th to tell you that you're <span class="bold-love">the best thing that ever happened to me</span>.\n\nYou're Shady's hbibt, the one I think about the moment I wake up wallahi, and the last thing on my mind before I sleep. ğŸ’­\n\nSo I made you this little thing... because I want you to know something important. ğŸŒ¹`,
      continueBtn: 'Keep Reading... ğŸ’Œ',
      questionText: 'Will you forgive me<br>for missing Valentine\'s Day?',
      btnYes: 'Of course I forgive you ğŸ¥ºâ¤ï¸',
      btnNo: 'No ğŸ˜¤',
      funnyMsgs: [
        "Haha the stars are closer to you than this button ğŸ˜",
        "Don't even tryyyy it's running from you ğŸƒ",
        "It'll keep running till you say yes ğŸ˜",
        "You're good at everything but not this time nooo ğŸ˜‚",
        "You'd really say no to Shady hbibk? Seriously? ğŸ¥º",
        "Even the button knows you love me.. khalboos ğŸ¥°",
        "Tap yes pleeease (maybe there's sushi inside ğŸ£ğŸ¤·ğŸ¼) ğŸ˜˜",
        "We bored the button and it left.. say yes to Shady hbibk already ğŸ¥ºğŸ˜‚ğŸ’•",
      ],
      noGone: "The button left ğŸ’ğŸ¼ say yesss â¤ï¸ğŸ˜­",
      celebTitle: 'I knew you\'d say yes ğŸ˜­â¤ï¸â¤ï¸â¤ï¸ (by your own choice ofc)!',
      celebSub: 'I can stay up till morning no problem ğŸ¥²â¤ï¸',
      celebMsg: `<span class="name">Yasmeen, Shady's hbibt</span>,
      <br><br>
      My love doesn't need a day in the year to hear that she's the best thing that happened to me.
      <br><br>
      You're my love, the light of my eyes, and every day with you is Valentine's.
      <br>
      Your sadness is precious to me and it never sits right in my heart wallahi.. forgive me for anything that upset you.
      <br>
      Always know that Shady hbibk loves you from the heart and will always be right here beside you inshallah.
      <br><br>
      And don't worry I'll never upset you again ğŸ«‚`,
      celebFooter: 'Love you ya eyes of Shady hbibk â¤ï¸',
      celebTiny: '~ from Yasmeen\'s hbib ~',
    }
  };

  function switchLang() {
    lang = lang === 'ar' ? 'en' : 'ar';
    const c = content[lang];

    document.body.classList.toggle('en', lang === 'en');
    document.documentElement.dir = lang === 'ar' ? 'rtl' : 'ltr';
    document.documentElement.lang = lang;

    document.getElementById('langToggle').textContent = c.toggleBtn;
    document.getElementById('openerEmoji').textContent = c.openerEmoji;
    document.getElementById('openerText').textContent = c.openerText;
    document.getElementById('openerHint').textContent = c.openerHint;
    document.getElementById('letterName').textContent = c.letterName;
    document.getElementById('letterSub').textContent = c.letterSub;
    document.getElementById('continueBtn').textContent = c.continueBtn;
    document.getElementById('questionText').innerHTML = c.questionText;
    document.getElementById('btnYes').textContent = c.btnYes;
    document.getElementById('btnNo').textContent = c.btnNo;
    document.getElementById('celebTitle').textContent = c.celebTitle;
    document.getElementById('celebSub').textContent = c.celebSub;
    document.getElementById('celebMsg').innerHTML = c.celebMsg;
    document.getElementById('celebFooter').textContent = c.celebFooter;
    document.getElementById('celebTiny').textContent = c.celebTiny;

    // Reset letter typewriter if on screen1
    charIndex = 0;
    document.getElementById('letterContent').innerHTML = '';
    noCount = 0;
    document.getElementById('noAttempts').textContent = '';
    const btn = document.getElementById('btnNo');
    btn.style.position = '';
    btn.style.left = '';
    btn.style.top = '';
    btn.style.display = '';
    btn.classList.remove('shrinking');
  }

  // ============ SCREENS ============
  function showScreen(id) {
    document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
    document.getElementById(id).classList.add('active');
  }

  function openLetter() {
    showScreen('screen2');
    charIndex = 0;
    document.getElementById('letterContent').innerHTML = '';
    typeWriter();
  }

  // ============ TYPEWRITER ============
  let charIndex = 0;
  function typeWriter() {
    const text = content[lang].letterBody;
    const el = document.getElementById('letterContent');
    if (charIndex < text.length) {
      if (text[charIndex] === '<') {
        const closingTag = text.indexOf('>', text.indexOf('</', charIndex));
        const chunk = text.substring(charIndex, closingTag + 1);
        el.innerHTML += chunk;
        charIndex = closingTag + 1;
      } else if (text[charIndex] === '\n') {
        el.innerHTML += '<br>';
        charIndex++;
      } else {
        el.innerHTML += text[charIndex];
        charIndex++;
      }
      setTimeout(typeWriter, 20);
    }
  }

  function showQuestion() { showScreen('screen3'); }

  // ============ RUNAWAY BUTTON ============
  let noCount = 0;

  function runAway() {
    const btn = document.getElementById('btnNo');
    const yesBtn = document.getElementById('btnYes');
    const yesRect = yesBtn.getBoundingClientRect();
    const margin = 30;
    const btnW = 140;
    const btnH = 55;
    const maxX = window.innerWidth - btnW;
    const maxY = window.innerHeight - btnH;

    let newX, newY, tries = 0;
    do {
      newX = Math.random() * maxX;
      newY = Math.random() * maxY;
      tries++;
    } while (
      tries < 50 &&
      newX < yesRect.right + margin &&
      newX + btnW > yesRect.left - margin &&
      newY < yesRect.bottom + margin &&
      newY + btnH > yesRect.top - margin
    );

    btn.style.position = 'fixed';
    btn.style.left = newX + 'px';
    btn.style.top = newY + 'px';
    btn.style.transition = 'all 0.18s ease';

    noCount++;
    if (noCount >= 4) btn.classList.add('shrinking');

    const c = content[lang];
    const el = document.getElementById('noAttempts');
    if (noCount <= c.funnyMsgs.length) {
      el.textContent = c.funnyMsgs[noCount - 1];
    }
    if (noCount >= 8) {
      btn.style.display = 'none';
      el.textContent = c.noGone;
    }
  }

  // ============ CELEBRATION ============
  function sayYes() {
    showScreen('screen4');
    launchCelebration();
  }

  function launchCelebration() {
    const emojis = ['ğŸ’–', 'ğŸ’•', 'ğŸ’—', 'ğŸŒ¹', 'ğŸ’', 'âœ¨', 'ğŸ©·', 'ğŸŒ¸'];
    for (let i = 0; i < 35; i++) {
      setTimeout(() => {
        const h = document.createElement('div');
        h.className = 'burst-heart';
        h.textContent = emojis[Math.floor(Math.random() * emojis.length)];
        h.style.left = '50%';
        h.style.top = '45%';
        h.style.fontSize = (22 + Math.random() * 28) + 'px';
        const angle = (Math.PI * 2 / 35) * i + (Math.random() - 0.5) * 0.5;
        const dist = 180 + Math.random() * 300;
        h.style.setProperty('--tx', Math.cos(angle) * dist + 'px');
        h.style.setProperty('--ty', Math.sin(angle) * dist + 'px');
        document.body.appendChild(h);
        setTimeout(() => h.remove(), 1800);
      }, i * 35);
    }

    const colors = ['#ff3366', '#ff6b95', '#ffb6c1', '#ff4b7b', '#ffd1dc', '#fff', '#ff85a2', '#c9184a', '#ff0055'];
    for (let i = 0; i < 100; i++) {
      setTimeout(() => {
        const c = document.createElement('div');
        c.className = 'confetti-piece';
        c.style.left = Math.random() * 100 + '%';
        c.style.top = '-5%';
        c.style.width = (5 + Math.random() * 10) + 'px';
        c.style.height = (5 + Math.random() * 10) + 'px';
        c.style.background = colors[Math.floor(Math.random() * colors.length)];
        c.style.borderRadius = Math.random() > 0.5 ? '50%' : '2px';
        c.style.animationDuration = (2 + Math.random() * 3) + 's';
        document.body.appendChild(c);
        setTimeout(() => c.remove(), 5500);
      }, i * 25);
    }

    setInterval(() => {
      const h = document.createElement('div');
      h.className = 'burst-heart';
      h.textContent = emojis[Math.floor(Math.random() * emojis.length)];
      h.style.left = (5 + Math.random() * 90) + '%';
      h.style.top = '110%';
      h.style.setProperty('--tx', (Math.random() - 0.5) * 80 + 'px');
      h.style.setProperty('--ty', -(window.innerHeight + 50) + 'px');
      h.style.animationDuration = '3.5s';
      h.style.fontSize = (18 + Math.random() * 20) + 'px';
      document.body.appendChild(h);
      setTimeout(() => h.remove(), 3500);
    }, 350);
  }
</script>
</body>
</html>
